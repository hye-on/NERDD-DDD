# 7장

- 한 애그리거트에 넣기 애매한 도메인 기능을 도메인 서비스를 만들어서 구현하기
- 도메인 로직
  - 애그리거트의 상태를 변경하거나 애그리거트의 상태 값을 계산
- 외부 시스템이나 타 도메인과의 연동 기능도 도메인 서비스가 될 수 있음

# 8장

- 선점 잠금
  - 먼저 애그리거트를 구한 스레드가 사용이 끝날 때까지 해당 애그리거트의 수정을 막는 방식
- 비선점 잠금
  - 동시에 접근하는 것을 막는 대신 변경한 데이터를 실제 DBMS에 반영하는 시점에 변경 가능 여부를 확인하는 방식
- 오프라인 선점 잠금
  - 여러 트랜잭션에 걸쳐 동시 변경 막음
  - 잠금 유효 시간을 가짐

# 9장

- 바운디드 컨텍스트
  - 실제로 사용자에게 기능을 제공하는 **물리적 시스템**으로 도메인 모델은 이 바운디드 컨텍스트 안에서 도메인을 구현한다.
  - 한 개의 바운디드 컨텍스트는 논리적으로 한 개의 모델을 갖는다.
- 여러 하위 도메인을 하나의 바운디드 컨텍스트에서 개발할 때 **하위 도메인의 모델이 섞이지 않도록 해야 한다.**
- 바운디드 컨텍스트가 반드시 사용자에게 보여지는 UI를 가지고 있어야 하는 것은 아니다.
  - UI 서버는 각 바운디드 컨텍스트를 위한 파사드 역할을 수행한다.
- 바운디드 컨텍스트를 통합하는 방법
  - **직접 통합**: REST API 호출
  - **간접 통합**: 메시지 큐 사용

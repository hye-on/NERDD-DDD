# 5. 스프링 데이터 JPA를 이용한 조회 기능

- 도메인 모델은 명령 모델(mutation)로 주로 사용
- 그렇다면 조회 모델(query)은?

## 5.2 검색을 위한 스펙

**스펙**

- 애그리거트가 특정 조건을 충족하는지 검사할 때 사용하는 인터페이스

# 6. 응용 서비스와 표현 영역

## 응용 서비스

- 복잡한 응용 서비스 → 도메인 로직의 일부를 구현하고 있을 가능성 높음
- 트랜잭션 처리
- 도메인 로직을 구현하지 않아야함
  - 응집도가 떨어지게 되고 중복이 생기게 되기 때문

### 구현

- 한 서비스에서 모두 구현
  - 코드 중복 제거
  - 슈퍼 클래스가 되게 됌
- 기능별 서비스 클래스
  - 클래스 개수는 많아짐
  - 코드 품질 일정 수준 이상으로 유지
  - 중복 코드 → 별도 클래스(helper class)
- 애그리거트를 리턴하면 도메인 로직 실행이 표현 영역에서도 이루어질 수 있게 됌
- 표현 영역에서 필요한 데이터만 리턴하는 게 응집도를 높이는 데 좋음

### 표현 영역에 의존하지 않기

- 표현 영역과 관련된 타입을 사용하면 안된다.
- 의존하게 도리 경우 테스트가 어려워짐
- 응용 영역이 표현 영역의 역할까지 대신하게 됌

## 표현 영역

- 사용자의 요청에 맞게 응용 서비스에 기능 실행을 요청

## 값 검증

- 표현 영역
  - 필수 값, 타입, 범위 검사
- 응용 서비스
  - 논리적 오류 검사(id 중복 등..)
  - DDD라는 게 완전히 새로운 것이 아니다
